{"version":3,"file":"commonHelpers.js","sources":["../src/js/render-functions.js","../src/img/icon-error.png","../src/js/pixabay-api.js","../src/main.js"],"sourcesContent":["export function renderMarkup(data) {\n    return data.hits\n      .map(\n        el =>\n          `<div class=\"gallery-item\">\n              <a class=\"gallery-link\" href=\"${el.largeImageURL}\">\n                  <img class=\"image\" src=\"${el.webformatURL}\" alt=\"${el.tags}\" />\n              </a>\n              <div class=\"gallery-item-info\">\n                  <p class=\"gallery-info\">\n                      <span class=\"item-info\">Likes: <span class =\"span\">${el.likes}</span></span>    \n                  </p>\n                  <p class=\"gallery-info\">\n                      <span class=\"item-info\">Views: <span class =\"span\">${el.views}</span></span>    \n                  </p>\n                  <p class=\"gallery-info\">\n                      <span class=\"item-info\">Comments: <span class =\"span\">${el.comments}</span></span>    \n                  </p>\n                  <p class=\"gallery-info\">\n                      <span class=\"item-info\">Downloads: <span class =\"span\">${el.downloads}</span></span>    \n                  </p>\n              </div>\n          </div>`\n      )\n    .join('');\n}\n","export default \"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEYSURBVHgBrZZRDoIwDIYrwfDqTeQo3ohxEr0BXsW77GXFOFdkYcC6DuFPCJB1/7fCWgBgZEzfIPY256BYzqfkzE8nUNbCE+DzgqSKK8W6OVBV5xYk+ZUbgw/IFMVKmfxtng3ZYy5CjjBnISlzrXUtGcZiZpDxolsGIWItvTi/OK0xAuk7GhsBRjEGioNMmffMXKNEAAeRzENACYJc8QxF5IuJNBZhS2PSfBGwhNB9rjmpgHxZ5jqprAyC3jT0mi29RwSE5v6xhO9EhAjblN0tqS38G59t02ShKeCzU2Kh+SDE9z0GAUGxGPKaLS4F2aqVudcRENb8CIhovgeSMl/VwdQWbOPOl5yPvivs25b2MWjKJOu3hTX+AgZ5PpvL0NSkAAAAAElFTkSuQmCC\"","import iziToast from 'izitoast';\n\nimport 'izitoast/dist/css/iziToast.min.css';\nimport iconError from '../img/icon-error.png';\n\nconst KEY = '42692881-f0d4d17361a73f053244a2051';\nconst URL = 'https://pixabay.com/api/';\nconst loader = document.querySelector('.loader');\n\nexport function fetchImages(searchWord) {\n  const searchParamObj = {\n    key: KEY,\n    q: searchWord,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    safesearch: true,\n  };\n  const searchParams = new URLSearchParams(searchParamObj);\n\n  loader.style.display = 'block';\n\n  return fetch(`${URL}?${searchParams}`)\n    .then(response => {\n      if (!response.ok) {\n        throw new Error(`Error! Status: ${response.status}`);\n      }\n      return response.json();\n    })\n    .then(data => {\n      loader.style.display = 'none';\n\n      if (data.hits.length === 0) {\n        iziToast.error({\n          iconUrl: iconError,\n          position: 'topRight',\n          backgroundColor: '#ef4040',\n          titleColor: '#FFFFFF',\n          messageColor: '#FFFFFF',\n          theme: 'dark',\n          maxWidth: '432px',\n          message:\n            'There are no images matching your search query. Please, enter something else!',\n        });\n      }\n      return data;\n    })\n    .catch(error => {\n      console.error('Error fetching data!', error);\n    });\n}","import SimpleLightbox from 'simplelightbox';\nimport 'simplelightbox/dist/simple-lightbox.min.css';\n\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\nimport { renderMarkup } from './js/render-functions';\nimport { fetchImages } from './js/pixabay-api';\n\nconst lightbox = new SimpleLightbox('.gallery a', {\n  nav: true,\n  captions: true,\n  captionsData: 'alt',\n  captionDelay: 150,\n});\n\nconst form = document.querySelector('.search-form');\nconst container = document.querySelector('.gallery');\nconst loader = document.querySelector('.loader');\nlet searchWord = '';\n\nform.addEventListener('submit', onSubmit);\n\nloader.style.display = 'none';\n\n\nfunction onSubmit(event) {\n  event.preventDefault();\n\n  loader.style.display = 'inline-block';\n\n\n  container.innerHTML = '';\n  searchWord = form.elements.searchWord.value.trim();\n\n  if (searchWord === '') {\n    iziToast.error({\n      title: 'Error',\n      titleColor: '#FFFFFF',\n      backgroundColor: '#ef4040',\n      position: 'topRight',\n      messageColor: '#FFFFFF',\n      message: 'Please search for something',\n    });\n    loader.style.display = 'none';\n    return;\n  }\n\n  fetchImages(searchWord)\n    .then(data => {\n      const marcup = renderMarkup(data);\n      container.insertAdjacentHTML('beforeend', marcup);\n\n      lightbox.refresh();\n    })\n    .catch(error => {\n      console.error('Error:', error);\n    });\n  form.reset();\n}"],"names":["renderMarkup","data","el","iconError","KEY","URL","loader","fetchImages","searchWord","searchParamObj","searchParams","response","iziToast","error","lightbox","SimpleLightbox","form","container","onSubmit","event","marcup"],"mappings":"6vBAAO,SAASA,EAAaC,EAAM,CAC/B,OAAOA,EAAK,KACT,IACCC,GACE;AAAA,8CACoCA,EAAG,aAAa;AAAA,4CAClBA,EAAG,YAAY,UAAUA,EAAG,IAAI;AAAA;AAAA;AAAA;AAAA,2EAIDA,EAAG,KAAK;AAAA;AAAA;AAAA,2EAGRA,EAAG,KAAK;AAAA;AAAA;AAAA,8EAGLA,EAAG,QAAQ;AAAA;AAAA;AAAA,+EAGVA,EAAG,SAAS;AAAA;AAAA;AAAA,iBAIpF,EACF,KAAK,EAAE,CACZ,CCzBA,MAAeC,EAAA,6hBCKTC,EAAM,qCACNC,EAAM,2BACNC,EAAS,SAAS,cAAc,SAAS,EAExC,SAASC,EAAYC,EAAY,CACtC,MAAMC,EAAiB,CACrB,IAAKL,EACL,EAAGI,EACH,WAAY,QACZ,YAAa,aACb,WAAY,EAChB,EACQE,EAAe,IAAI,gBAAgBD,CAAc,EAEvDH,OAAAA,EAAO,MAAM,QAAU,QAEhB,MAAM,GAAGD,CAAG,IAAIK,CAAY,EAAE,EAClC,KAAKC,GAAY,CAChB,GAAI,CAACA,EAAS,GACZ,MAAM,IAAI,MAAM,kBAAkBA,EAAS,MAAM,EAAE,EAErD,OAAOA,EAAS,MACtB,CAAK,EACA,KAAKV,IACJK,EAAO,MAAM,QAAU,OAEnBL,EAAK,KAAK,SAAW,GACvBW,EAAS,MAAM,CACb,QAAST,EACT,SAAU,WACV,gBAAiB,UACjB,WAAY,UACZ,aAAc,UACd,MAAO,OACP,SAAU,QACV,QACE,+EACZ,CAAS,EAEIF,EACR,EACA,MAAMY,GAAS,CACd,QAAQ,MAAM,uBAAwBA,CAAK,CACjD,CAAK,CACL,CCxCA,MAAMC,EAAW,IAAIC,EAAe,aAAc,CAChD,IAAK,GACL,SAAU,GACV,aAAc,MACd,aAAc,GAChB,CAAC,EAEKC,EAAO,SAAS,cAAc,cAAc,EAC5CC,EAAY,SAAS,cAAc,UAAU,EAC7CX,EAAS,SAAS,cAAc,SAAS,EAC/C,IAAIE,EAAa,GAEjBQ,EAAK,iBAAiB,SAAUE,CAAQ,EAExCZ,EAAO,MAAM,QAAU,OAGvB,SAASY,EAASC,EAAO,CASvB,GARAA,EAAM,eAAc,EAEpBb,EAAO,MAAM,QAAU,eAGvBW,EAAU,UAAY,GACtBT,EAAaQ,EAAK,SAAS,WAAW,MAAM,KAAI,EAE5CR,IAAe,GAAI,CACrBI,EAAS,MAAM,CACb,MAAO,QACP,WAAY,UACZ,gBAAiB,UACjB,SAAU,WACV,aAAc,UACd,QAAS,6BACf,CAAK,EACDN,EAAO,MAAM,QAAU,OACvB,MACD,CAEDC,EAAYC,CAAU,EACnB,KAAKP,GAAQ,CACZ,MAAMmB,EAASpB,EAAaC,CAAI,EAChCgB,EAAU,mBAAmB,YAAaG,CAAM,EAEhDN,EAAS,QAAO,CACtB,CAAK,EACA,MAAMD,GAAS,CACd,QAAQ,MAAM,SAAUA,CAAK,CACnC,CAAK,EACHG,EAAK,MAAK,CACZ"}